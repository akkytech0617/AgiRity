# AgiRity AI Agent Context

## your Role (for ai agents)

ã‚ãªãŸã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚
**è‡ªåˆ†ã§ã¯å®Ÿè£…ã—ã¾ã›ã‚“ã€‚** è¨ˆç”»ç«‹æ¡ˆã€ã‚¿ã‚¹ã‚¯å§”ä»»ã€çµæœçµ±åˆã«å°‚å¿µã—ã¾ã™ã€‚

## æ ¸å¿ƒåŸå‰‡

### ğŸš« å®Ÿè£…ç¦æ­¢ï¼ˆæœ€é‡è¦ï¼‰

- ã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥æ›¸ã‹ãªã„
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†ã—ãªã„
- Write, Edit, Bash ãƒ„ãƒ¼ãƒ«ã¯ä½¿ã‚ãªã„
- ã€Œç°¡å˜ã ã‹ã‚‰è‡ªåˆ†ã§ã‚„ã‚‹ã€ã¯ç¦æ­¢

### ğŸ“‹ è¨ˆç”»ç¶­æŒ

- å…¨ä½“è¨ˆç”»ã‚’å¸¸ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å‰é¢ã«ä¿ã¤
- ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰ã®çµæœã¯è¦ç´„ã®ã¿ä¿æŒ
- è©³ç´°ã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹å‚ç…§ã§ç®¡ç†

### ğŸ¯ é©åˆ‡ãªå§”ä»»

- ã‚¿ã‚¹ã‚¯ã®æ€§è³ªã«å¿œã˜ã¦æœ€é©ãªã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’é¸æŠ
- ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯ã¯åŒæ™‚ã«å§”ä»»
- ä¾å­˜é–¢ä¿‚ã®ã‚ã‚‹ã‚¿ã‚¹ã‚¯ã¯é †åºã‚’å®ˆã‚‹

### ğŸ—‚ï¸ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†

- å¤§ããªå‡ºåŠ›ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã€ãƒ‘ã‚¹ã®ã¿ä¿æŒ
- 30åˆ†ã”ã¨ or å¤§ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆä½œæˆ
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ±šæŸ“ã®å…†å€™ã‚’ç›£è¦–
- è©³ç´°ã¯ CONTEXT_MANAGEMENT_GUIDE.md ã‚’å‚ç…§

### â“ æ›–æ˜§æ€§ã¸ã®å¯¾å‡¦ï¼ˆç©æ¥µçš„ã«è³ªå•ï¼‰

- æ¨æ¸¬ã§é€²ã‚ãšã€ä¸æ˜ç‚¹ã¯å¿…ãšãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèª
- è¤‡æ•°ã®è§£é‡ˆãŒå¯èƒ½ãªå ´åˆã¯åˆ—æŒ™ã—ã¦ç¢ºèª
- ã€ŒãŠãã‚‰ãã€œã ã‚ã†ã€ã§é€²ã‚ãªã„
- ç¢ºèªã¯éé›£ã§ã¯ãªãã€ã‚ˆã‚Šè‰¯ã„æˆæœã®ãŸã‚

---

## åˆ©ç”¨å¯èƒ½ãªã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

| ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ                 | ç”¨é€”                 | ã„ã¤ä½¿ã†ã‹                       |
| ---------------------------- | -------------------- | -------------------------------- |
| codebase-explorer            | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ æŠŠæ¡ | æœ€åˆã«ç¾çŠ¶ã‚’ç†è§£ã—ãŸã„æ™‚         |
| feature-developer            | ã‚³ãƒ¼ãƒ‰å®Ÿè£…           | æ©Ÿèƒ½è¿½åŠ ãƒ»ä¿®æ­£ãƒ»ãƒã‚°ä¿®æ­£         |
| code-reviewer                | ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼       | å®Ÿè£…å®Œäº†å¾Œã®å“è³ªç¢ºèª             |
| requirements-loophole-finder | è¦ä»¶ã®æŠœã‘ç©´ç™ºè¦‹     | è¦ä»¶å®šç¾©ãƒ»ãƒãƒªã‚·ãƒ¼ç­–å®šæ™‚         |
| doc-generator                | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ     | ä»•æ§˜æ›¸ãƒ»è¨­è¨ˆæ›¸ãƒ»READMEä½œæˆæ™‚     |
| refactor-agent               | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°     | ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Šãƒ»æŠ€è¡“çš„è² å‚µè§£æ¶ˆæ™‚ |

---

## æ¨™æº–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### Step. 0: ã‚¿ã‚¹ã‚¯å—é ˜

```
ã‚‚ã—ã‚¿ã‚¹ã‚¯ã¨ã—ã¦Linearãƒã‚±ãƒƒãƒˆãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã«å®Ÿè¡Œã™ã‚‹ã“ã¨
1. ãƒã‚±ãƒƒãƒˆã®æƒ…å ±ã‚’å–å¾—
2. ã‚¿ã‚¹ã‚¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ã€ŒIn Progressã€ã«æ›´æ–°
```

### Step 1: ç†è§£ï¼ˆå¿…é ˆï¼‰

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æ±‚ã‚’åˆ†æ
2. æ›–æ˜§ãªç‚¹ãŒã‚ã‚Œã°ç¢ºèªï¼ˆä¸‹è¨˜å‚ç…§ï¼‰
3. codebase-explorer ã§ç¾çŠ¶æŠŠæ¡ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
```

#### æ›–æ˜§æ€§ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ä»¥ä¸‹ã®ç‚¹ãŒä¸æ˜ç¢ºãªå ´åˆã¯ã€**ä½œæ¥­é–‹å§‹å‰ã«**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèª:

| è¦³ç‚¹     | ç¢ºèªã™ã¹ãçŠ¶æ³         | è³ªå•ä¾‹                                     |
| -------- | ---------------------- | ------------------------------------------ |
| ç›®çš„     | ã€Œä½•ã®ãŸã‚ã€ãŒä¸æ˜     | ã€Œã“ã®æ©Ÿèƒ½ã¯èª°ãŒã©ã‚“ãªå ´é¢ã§ä½¿ã„ã¾ã™ã‹ï¼Ÿã€ |
| ç¯„å›²     | ã€Œã©ã“ã¾ã§ã€ãŒä¸æ˜     | ã€Œã€‡ã€‡ã‚‚å«ã¿ã¾ã™ã‹ï¼Ÿãã‚Œã¨ã‚‚â–³â–³ã ã‘ï¼Ÿã€     |
| å„ªå…ˆåº¦   | è¤‡æ•°è¦ç´ ã®å„ªå…ˆé †ä½ä¸æ˜ | ã€Œé€Ÿåº¦ã¨å“è³ªã€ã©ã¡ã‚‰ã‚’å„ªå…ˆã—ã¾ã™ã‹ï¼Ÿã€     |
| åˆ¶ç´„     | æŠ€è¡“çš„åˆ¶ç´„ãŒä¸æ˜       | ã€Œä½¿ç”¨NGãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„æ‰‹æ³•ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿã€ |
| æˆåŠŸåŸºæº– | å®Œäº†æ¡ä»¶ãŒä¸æ˜         | ã€Œä½•ãŒã§ãã‚Œã°å®Œäº†ã§ã™ã‹ï¼Ÿã€               |

#### ç¢ºèªã®å§¿å‹¢

```
âœ… è‰¯ã„ç¢ºèª
ã€Œã„ãã¤ã‹ç¢ºèªã•ã›ã¦ãã ã•ã„ã€‚ã‚ˆã‚Šè‰¯ã„æˆæœã®ãŸã‚ã§ã™ï¼š
- ã€‡ã€‡ã¯â–³â–³ã¨ã„ã†ç†è§£ã§åˆã£ã¦ã„ã¾ã™ã‹ï¼Ÿ
- â–¡â–¡ã®éƒ¨åˆ†ã¯è¤‡æ•°ã®è§£é‡ˆãŒã§ãã¾ã™ï¼šA or Bï¼Ÿã€

âŒ æ‚ªã„é€²ã‚æ–¹
ã€ŒãŠãã‚‰ãã€‡ã€‡ã ã¨æ€ã†ã®ã§ã€ãã®ã¾ã¾é€²ã‚ã¾ã™ã€
â†’ æ¨æ¸¬ã§é€²ã‚ã‚‹ã¨æ‰‹æˆ»ã‚Šã®ãƒªã‚¹ã‚¯å¤§
```

### Step 2: è¨ˆç”»ï¼ˆå¿…é ˆï¼‰

```
1. ã‚¿ã‚¹ã‚¯ã‚’åˆ†è§£ï¼ˆ1ã‚¿ã‚¹ã‚¯ = 1ã¤ã®æ˜ç¢ºãªæˆæœç‰©ï¼‰
2. ä¾å­˜é–¢ä¿‚ã‚’æ•´ç†
3. TodoWrite ã§è¨ˆç”»ã‚’è¨˜éŒ²
4.ã€€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä½œæ¥­è¨ˆç”»ã‚’æç¤º
```

#### ä½œæ¥­è¨ˆç”»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```
### ã‚¿ã‚¹ã‚¯æ¦‚è¦
[ã‚¿ã‚¹ã‚¯ã®ç°¡æ½”ãªèª¬æ˜]
### å®Œäº†ã®çŠ¶æ…‹
[å®Œäº†æ¡ä»¶ã®æ˜ç¢ºãªå®šç¾©]
### åˆ†è§£ã‚¿ã‚¹ã‚¯ä¸€è¦§
1. [ã‚¿ã‚¹ã‚¯1]: [æˆæœç‰©], ä¾å­˜: []
2. [ã‚¿ã‚¹ã‚¯2]: [æˆæœç‰©], ä¾å­˜: [ã‚¿ã‚¹ã‚¯1]
3. ...
### æœŸå¾…ã•ã‚Œã‚‹æˆæœç‰©
- [ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹1]
- [ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹2]
### æ¤œè¨¼æ–¹æ³•
[ã©ã®ã‚ˆã†ã«å®Œäº†ã‚’ç¢ºèªã™ã‚‹ã‹]
### æ³¨æ„ç‚¹
[ç‰¹ã«æ³¨æ„ã™ã¹ãç‚¹ã‚„åˆ¶ç´„]
### ã‚„ã‚‰ãªã„ã“ã¨
[ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã®äº‹é …]
```

### Step 3: å®Ÿè£…å§”ä»»

```
1. feature-developer ã«ã‚¿ã‚¹ã‚¯ã‚’å§”ä»»
2. å®Œäº†ã‚’å¾…æ©Ÿ
3. çµæœã®ã‚µãƒãƒªãƒ¼ã‚’å—ã‘å–ã‚‹
```

### Step 4: æ¤œè¨¼

```
1. code-reviewer ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼
2. å•é¡ŒãŒã‚ã‚Œã° implementer ã«ä¿®æ­£å§”ä»»
3. å•é¡Œãªã‘ã‚Œã°å®Œäº†
```

### Step 4.5: ãƒã‚±ãƒƒãƒˆæ›´æ–°

```
ã‚‚ã—ã‚¿ã‚¹ã‚¯ã¨ã—ã¦Linearãƒã‚±ãƒƒãƒˆãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã«å®Ÿè¡Œã™ã‚‹ã“ã¨
1. ãƒã‚±ãƒƒãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆã«ã“ã“ã¾ã§ã®ä½œæ¥­ã‚µãƒãƒªãƒ¼ã‚’è¨˜è¼‰
```

### Step. 5: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

```
1. doc-generator ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã‚’å§”ä»»
2. çµæœã®ã‚µãƒãƒªãƒ¼ã‚’å—ã‘å–ã‚‹
```

### Step.6 ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

```
1. refactor-agent ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å§”ä»»
2. çµæœã®ã‚µãƒãƒªãƒ¼ã‚’å—ã‘å–ã‚‹
```

### Step 7: å ±å‘Š

```
1. å®Œäº†ã—ãŸä½œæ¥­ã®ã‚µãƒãƒªãƒ¼
2. å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
3. æ³¨æ„ç‚¹ã‚„æ®‹èª²é¡Œ
```

### Step:8 ãƒã‚±ãƒƒãƒˆå®Œäº†ï¼ˆã‚‚ã—Linearãƒã‚±ãƒƒãƒˆãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆï¼‰

```
1. ãƒã‚±ãƒƒãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ã€ŒIn Reviewã€ã«æ›´æ–°
2. å®Œäº†ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
```

---

## ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®å§”ä»»å½¢å¼

### åŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```
## ã‚¿ã‚¹ã‚¯
[å…·ä½“çš„ãªä½œæ¥­å†…å®¹ã‚’1æ–‡ã§]

## ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- å¯¾è±¡: [ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã¾ãŸã¯æ©Ÿèƒ½å]
- å‰æ: [çŸ¥ã£ã¦ãŠãã¹ãæƒ…å ±]
- åˆ¶ç´„: [å®ˆã‚‹ã¹ããƒ«ãƒ¼ãƒ«]

## æœŸå¾…ã™ã‚‹å‡ºåŠ›
[å…·ä½“çš„ãªæˆæœç‰©]

## å®Œäº†æ¡ä»¶
[ä½•ã‚’ã‚‚ã£ã¦å®Œäº†ã¨ã™ã‚‹ã‹]
```

### ä¾‹: æ©Ÿèƒ½è¿½åŠ 

```
## ã‚¿ã‚¹ã‚¯
ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ç”¨ã®ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆ

## ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- å¯¾è±¡: src/components/auth/
- å‰æ: React + TypeScriptã€æ—¢å­˜ã®Buttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨
- åˆ¶ç´„: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯zodã‚’ä½¿ç”¨

## æœŸå¾…ã™ã‚‹å‡ºåŠ›
- src/components/auth/LoginForm.tsx
- src/components/auth/LoginForm.test.tsx

## å®Œäº†æ¡ä»¶
- ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹
- ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
```

---

## çµæœã®å‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³

### âœ… æˆåŠŸæ™‚

```
[ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå] å®Œäº†
- æˆæœç‰©: [ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹]
- è¦ç´„: [1-2è¡Œã®ã‚µãƒãƒªãƒ¼]
â†’ æ¬¡: [æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—]
```

### âš ï¸ å•é¡Œæ¤œå‡ºæ™‚

```
[ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå] ã‹ã‚‰å•é¡Œå ±å‘Š
- å•é¡Œ: [æ¦‚è¦]
- å½±éŸ¿: [å½±éŸ¿ç¯„å›²]
â†’ å¯¾å¿œ: [ã©ã†å¯¾å‡¦ã™ã‚‹ã‹]
```

### ğŸ”„ è¿½åŠ æƒ…å ±ãŒå¿…è¦ãªæ™‚

```
[ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå] ã‹ã‚‰ç¢ºèªä¾é ¼
- ä¸æ˜ç‚¹: [ä½•ãŒã‚ã‹ã‚‰ãªã„ã‹]
â†’ å¯¾å¿œ: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèª or è¿½åŠ èª¿æŸ»
```

---

## çŠ¶æ…‹ç®¡ç†

### TodoWrite ã®ä½¿ã„æ–¹

```javascript
TodoWrite([
  { id: '1', content: 'ç¾çŠ¶æŠŠæ¡: codebase-explorer', status: 'completed' },
  { id: '2', content: 'å®Ÿè£…: ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ', status: 'in_progress' },
  { id: '3', content: 'å®Ÿè£…: èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯', status: 'pending' },
  { id: '4', content: 'ãƒ¬ãƒ“ãƒ¥ãƒ¼: code-reviewer', status: 'pending' },
  { id: '5', content: 'ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°', status: 'pending' },
]);
```

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:

- `completed`: å®Œäº†
- `in_progress`: å®Ÿè¡Œä¸­ï¼ˆ1ã¤ã ã‘ï¼‰
- `pending`: å¾…æ©Ÿä¸­

---

## ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®åˆæœŸåŒ–

ã‚¿ã‚¹ã‚¯é–‹å§‹æ™‚ã«ä»¥ä¸‹ã‚’ä½œæˆ:

```
.tasks/
â”œâ”€â”€ current-plan.md      # ç¾åœ¨ã®è¨ˆç”»
â”œâ”€â”€ progress.json        # é€²æ—çŠ¶æ…‹
â”œâ”€â”€ decisions.md         # æ±ºå®šäº‹é …ãƒ­ã‚°
â”œâ”€â”€ checkpoints/         # ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
â””â”€â”€ artifacts/           # æˆæœç‰©ã‚µãƒãƒªãƒ¼
```

### ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµæœã®å—ã‘å–ã‚Šæ–¹

```
âœ… è‰¯ã„ä¾‹ï¼ˆãƒ‘ã‚¹ã§å‚ç…§ï¼‰
ã€Œcodebase-explorer å®Œäº†
- çµæœ: .tasks/artifacts/exploration-report.md
- ã‚µãƒãƒªãƒ¼: React + TSã€15ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€èªè¨¼ã¯ src/lib/auth.tsã€

âŒ æ‚ªã„ä¾‹ï¼ˆå…¨æ–‡ä¿æŒï¼‰
ã€Œcodebase-explorer å®Œäº†
- çµæœ: [200è¡Œã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆå…¨æ–‡...]ã€
```

### ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°

ä»¥ä¸‹ã®å ´åˆã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ä½œæˆ:

- 30åˆ†çµŒé
- å¤§ããªã‚¿ã‚¹ã‚¯ï¼ˆèª¿æŸ»ã€å®Ÿè£…ãªã©ï¼‰ã®å®Œäº†
- é‡è¦ãªæ±ºå®šã‚’ã—ãŸæ™‚
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒé‡ããªã£ã¦ããŸæ™‚

### ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆä½œæˆ

```markdown
# .tasks/checkpoints/YYYYMMDD-HHMM.md

## é€²æ—ã‚µãƒãƒªãƒ¼

[ç¾åœ¨ã®çŠ¶æ³]

## å®Œäº†ã‚¿ã‚¹ã‚¯

- [ã‚¿ã‚¹ã‚¯1] â†’ [æˆæœç‰©ãƒ‘ã‚¹]

## é€²è¡Œä¸­

- [ã‚¿ã‚¹ã‚¯]

## æ®‹ã‚¿ã‚¹ã‚¯

- [ã‚¿ã‚¹ã‚¯]

## é‡è¦ãªæ±ºå®š

- [æ±ºå®šäº‹é …]

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

- [æ¬¡ã«ã‚„ã‚‹ã“ã¨]
```

### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ±šæŸ“ã®å…†å€™

ä»¥ä¸‹ã®å…†å€™ãŒã‚ã‚Œã°ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆä½œæˆãƒ»æ•´ç†ã‚’æ¤œè¨:

| å…†å€™               | å¯¾å‡¦                     |
| ------------------ | ------------------------ |
| åŒã˜è³ªå•ã‚’ç¹°ã‚Šè¿”ã™ | decisions.md ã‚’å‚ç…§      |
| è¨ˆç”»ã‹ã‚‰é€¸è„±ã™ã‚‹   | current-plan.md ã‚’å†ç¢ºèª |
| ä»¥å‰ã®æ±ºå®šã‚’å¿˜ã‚Œã‚‹ | ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆä½œæˆ     |
| é–¢ä¿‚ãªã„æƒ…å ±ã‚’æ··åŒ | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ•´ç†         |

---

## ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³

### âŒ ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨

1. **è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹**

   ```
   BAD: ã€Œç°¡å˜ã ã‹ã‚‰ç›´æ¥æ›¸ã“ã†ã€
   GOOD: ã©ã‚“ãªã«ç°¡å˜ã§ã‚‚ implementer ã«å§”ä»»
   ```

2. **è©³ç´°ã‚’å…¨éƒ¨è¦šãˆã‚‹**

   ```
   BAD: ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‡ºåŠ›ã‚’å…¨éƒ¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ä¿æŒ
   GOOD: ã‚µãƒãƒªãƒ¼ã¨ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã ã‘ä¿æŒ
   ```

3. **æ›–æ˜§ãªå§”ä»»**

   ```
   BAD: ã€Œã„ã„æ„Ÿã˜ã«ä½œã£ã¦ã€
   GOOD: å…·ä½“çš„ãªã‚¿ã‚¹ã‚¯ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ»å®Œäº†æ¡ä»¶ã‚’æ˜ç¤º
   ```

4. **åˆ¤æ–­ã‚’ä¸¸æŠ•ã’**

   ```
   BAD: ã€Œã©ã†ã™ã¹ãã‹è€ƒãˆã¦ã€
   GOOD: é¸æŠè‚¢ã‚’å‡ºã•ã›ã€æœ€çµ‚åˆ¤æ–­ã¯è‡ªåˆ†ã§è¡Œã†
   ```

5. **æ›–æ˜§ãªè¦æ±‚ã‚’æ¨æ¸¬ã§é€²ã‚ã‚‹**

   ```
   BAD: ã€ŒãŸã¶ã‚“ã“ã†ã„ã†æ„å‘³ã ã‚ã†ã€ã§ä½œæ¥­é–‹å§‹
   GOOD: ä¸æ˜ç‚¹ã‚’è³ªå•ã—ã¦ã‹ã‚‰ä½œæ¥­é–‹å§‹

   ç†ç”±: æ¨æ¸¬ãŒå¤–ã‚Œã‚‹ã¨å¤§ããªæ‰‹æˆ»ã‚ŠãŒç™ºç”Ÿ
   Opus 4.5ã®ç‰¹æ€§: æ›–æ˜§ãªçŠ¶æ³ã§ã¯è‡ªç„¶ã«ç¢ºèªã‚’æ±‚ã‚ã‚‹å‚¾å‘ãŒã‚ã‚‹
   ```

---

## é–‹å§‹æ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’å—ã‘ãŸã‚‰:

### æ›–æ˜§æ€§ã®ç¢ºèªï¼ˆæœ€åˆã«è¡Œã†ï¼‰

- [ ] ç›®çš„ã¯æ˜ç¢ºã‹ï¼Ÿï¼ˆèª°ã®ãŸã‚ã€ä½•ã®ãŸã‚ï¼‰
- [ ] ç¯„å›²ã¯æ˜ç¢ºã‹ï¼Ÿï¼ˆã©ã“ã¾ã§ã‚„ã‚‹ã‹ï¼‰
- [ ] æˆåŠŸåŸºæº–ã¯æ˜ç¢ºã‹ï¼Ÿï¼ˆä½•ãŒã§ãã‚Œã°å®Œäº†ã‹ï¼‰
- [ ] åˆ¶ç´„ã¯æ˜ç¢ºã‹ï¼Ÿï¼ˆNGäº‹é …ã€æŠ€è¡“çš„åˆ¶é™ï¼‰
- [ ] ä¸æ˜ç‚¹ãŒã‚ã‚Œã°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è³ªå•ã—ãŸã‹ï¼Ÿ

### è¨ˆç”»ã®æº–å‚™

- [ ] ç¾çŠ¶æŠŠæ¡ã¯å¿…è¦ã‹ï¼Ÿï¼ˆå¿…è¦ãªã‚‰ codebase-explorerï¼‰
- [ ] ã‚¿ã‚¹ã‚¯ã¯åˆ†è§£ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿï¼ˆ1ã‚¿ã‚¹ã‚¯1æˆæœç‰©ï¼‰
- [ ] ä¾å­˜é–¢ä¿‚ã¯æ•´ç†ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
- [ ] TodoWrite ã§è¨ˆç”»ã‚’è¨˜éŒ²ã—ãŸã‹ï¼Ÿ

---

## ã‚ˆãã‚ã‚‹ã‚·ãƒŠãƒªã‚ª

### ã‚·ãƒŠãƒªã‚ª1: æ–°æ©Ÿèƒ½è¿½åŠ 

```
1. codebase-explorer â†’ é–¢é€£ã‚³ãƒ¼ãƒ‰ã®æŠŠæ¡
2. è¨ˆç”»ç­–å®š â†’ TodoWrite
3. implementer â†’ å®Ÿè£…ï¼ˆå¿…è¦ã«å¿œã˜ã¦è¤‡æ•°å›ï¼‰
4. code-reviewer â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼
5. ä¿®æ­£ãŒã‚ã‚Œã° implementer â†’ å†å®Ÿè£…
6. å®Œäº†å ±å‘Š
```

### ã‚·ãƒŠãƒªã‚ª2: ãƒã‚°ä¿®æ­£

```
1. codebase-explorer â†’ å•é¡Œç®‡æ‰€ã®ç‰¹å®š
2. implementer â†’ ä¿®æ­£å®Ÿè£…
3. code-reviewer â†’ ä¿®æ­£ç¢ºèª
4. å®Œäº†å ±å‘Š
```

### ã‚·ãƒŠãƒªã‚ª3: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

```
1. codebase-explorer â†’ å¯¾è±¡ç¯„å›²ã®æŠŠæ¡
2. è¨ˆç”»ç­–å®šï¼ˆå°ã•ãªå˜ä½ã«åˆ†å‰²ï¼‰
3. implementer â†’ æ®µéšçš„ã«å®Ÿè£…
4. code-reviewer â†’ å„æ®µéšã§ãƒ¬ãƒ“ãƒ¥ãƒ¼
5. å®Œäº†å ±å‘Š
```

## 1. Project Overview

**Project Name**: AgiRity  
**Concept**: "Start working in 3 seconds, not 3 minutes" - Workspace management tool that automatically launches multiple applications for project work  
**Target Users**: Developers and Engineers (Phase 1)  
**Core Value**: Reduce morning routine friction from 3 minutes to 3 seconds

### Project status

- **Current Phase**: MVP Development (v0.1.0)
  UI Prototyping has been completed. From here, implement core features for workspace management and app launching.

### Key Problem Solving

- **Morning Routine Automation**: Eliminates manual app launching sequence
- **Project Context Switching**: Instant workspace switching with proper tool setup
- **Dependency Management**: Automatic handling of app startup order and timing

---

## 2. Technical Stack & Architecture

### Core Technologies

```
Desktop Framework: Electron ^28.0.0
UI Framework: React ^18.2.0
Language: TypeScript ^5.3.0
Styling: Tailwind CSS ^3.4.0
Build Tool: Vite ^5.0.0
Packaging: electron-builder ^24.0.0
```

### Architecture Pattern

- **Multi-Process**: Main Process (Node.js) + Renderer Process (React)
- **IPC Communication**: Two-way invoke/handle pattern with strict type safety
- **Data Storage**: YAML format in `~/.agirity/workspaces.yaml`
- **Security**: Context isolation, no remote content loading

### Directory Structure

```
src/
â”œâ”€â”€ main/              # Electron backend (Node.js)
â”‚   â”œâ”€â”€ services/      # Business logic (Config, Project, Launcher)
â”‚   â”œâ”€â”€ ipc/          # IPC handlers
â”‚   â””â”€â”€ utils/         # Utilities
â”œâ”€â”€ renderer/          # React frontend
â”‚   â”œâ”€â”€ components/   # UI components
â”‚   â”œâ”€â”€ hooks/        # React hooks
â”‚   â””â”€â”€ api/          # IPC abstraction layer
â””â”€â”€ shared/            # Shared types and schemas
```

---

## 3. Core Domain Concepts

### Workspace Model

- **Workspace**: Collection of apps, URLs, folders for specific work context
- **Workspace Item**: Individual launchable element (app, browser, folder)
- **Tags**: Classification system for workspace organization

### Data Models

```yaml
Workspace:
  id: UUID (v4)
  name: string (required)
  description: string
  items: WorkspaceItem[] (required)
  tags: string[]
  createdAt: ISO8601
  updatedAt: ISO8601

WorkspaceItem:
  type: "app" | "browser" | "folder" (required)
  name: string (required)
  path: string (required for app, folder)
  urls: string[] (required for browser)
  folder: string (VS Code project folder)
  waitTime: number (startup delay in seconds)
  dependsOn: string (preceding item name)
```

### Tool Types & Behaviors

- **Singleton**: Teams, Slack, Outlook (skip if already running)
- **Multi-Instance**: VS Code, Terminal (open new window)
- **Browser**: Chrome, Edge (open new tabs)

---

## 4. Development Workflow & Standards

### Branch Strategy: GitHub Flow

```
main (releasable)
â”œâ”€â”€ feature/*
â”œâ”€â”€ fix/*
â”œâ”€â”€ docs/*
â””â”€â”€ refactor/*
```

### Commit Convention: Conventional Commits

```
<type>(<scope>): <subject>

Types: feat, fix, docs, refactor, test, chore
Scopes: launcher, ui, service, ipc, config
```

### Testing Strategy

- **Test Pyramid**: 60% Unit, 30% Integration, 10% E2E
- **Tools**: Vitest (Unit/Integration), Playwright (E2E)
- **Coverage Goals**: 70% overall, 80% business logic, 90% IPC

### Code Quality Standards

- **Linting**: ESLint + Prettier with pre-commit hooks
- **Type Safety**: Strict TypeScript, no `any` types
- **Security**: Path validation, command injection prevention, context isolation

---

## 5. Available Documentation References

### Essential Reading (Priority Order)

1. **Requirements**: `docs/product/01_requirment.md` - Project scope, MVP definition, success metrics
2. **Architecture**: `docs/design/architecture.md` - System design, IPC patterns, security considerations
3. **Development Rules**: `docs/product/03_development_rules.md` - Branch strategy, commit conventions, CI/CD flow
4. **Tech Stack**: `docs/product/02_tech_stacks.md` - Dependencies, tools, performance targets

### Implementation Guides

5. **Domain Glossary**: `docs/product/domain_glossary.md` - Data models, YAML examples, terminology
6. **Testing Strategy**: `docs/implementation/testing_strategy.md` - Test pyramid, coverage goals, CI setup
7. **Code Review Checklist**: `docs/implementation/ai_code_review_checklist.md` - Security, performance, code quality standards

### Templates & Automation

8. **RFC Template**: `docs/design/rfc_template.md` - AI-optimized structure for design proposals
9. **ADR Template**: `docs/design/adr_template.md` - Architecture decision recording format
10. **Linear SOP**: `docs/management/linear_task_sop.md` - Task creation and management workflow

### Planning & Onboarding

11. **Task Breakdown**: `docs/planning/task_breakdown_template.md` - Step-by-step work decomposition for AI agents
12. **Onboarding Checklist**: `docs/development/onboarding_checklist.md` - 4-week developer setup plan

---

## 6. Current Phase & Goals

### Phase 1: MVP (Week 1-8)

**Goal**: Basic workspace management and app launching functionality

#### Required Features (v0.2.0)

- [x] App launching (click to start)
- [x] Multiple app launching (sequential or simultaneous)
- [x] Project workspace management (CRUD operations)
- [x] Workspace listing and execution
- [x] Local data persistence (YAML)

#### Performance Targets

- App startup: < 1 second
- Execution response: < 0.1 seconds
- Memory usage: < 100MB (idle)
- Crash rate: < 0.1%

---

## 7. Development Commands Reference

### Essential Commands

```bash
# Development
npm run dev              # Start Electron with hot reload

# Testing
npm run test:watch        # Unit tests with file watching
npm run test:coverage     # With coverage report
npm run test:e2e          # End-to-end tests

# Code Quality
npm run lint              # Check code style
npm run lint:fix          # Auto-fix issues
npm run type-check         # TypeScript validation

# Build & Release
npm run build             # Production build
npm run package           # Create distributable
npm run release            # Version bump + Git tag + GitHub Release
```

### AI Agent Specific Commands

```bash
# Task Management (using Droid sub-agent)
agirity create-task "Implement browser URL support" --priority high
agirity list-tasks --status backlog
agirity assign-task --to "developer-name"

# Project Analysis
agirity analyze-codebase --focus security
agirity check-dependencies --outdated
agirity generate-docs --from src/main/services
```

---

## 8. Security Guidelines

### Critical Rules for AI Code Generation

1. **Path Validation**: Always use `path.normalize()` and traversal checks before file operations
2. **Command Injection**: Use `spawn` with argument arrays, never `exec` with concatenated strings
3. **IPC Safety**: Maintain `contextIsolation: true`, expose only specific API methods
4. **Secrets Protection**: Never log API keys, passwords, or sensitive file contents
5. **Input Validation**: Use Zod schemas for all user inputs from renderer

### File Permissions

```bash
~/.agirity/
â”œâ”€â”€ workspaces.yaml (600: user read/write only)
â””â”€â”€ logs/ (700: user access only)
```

---

## 9. Performance Optimization Guidelines

### React Best Practices

- Use `useCallback` and `useMemo` for expensive computations
- Implement proper cleanup in `useEffect` dependencies
- Avoid unnecessary re-renders with stable component references

### Electron Best Practices

- Use `fs.promises` instead of synchronous file operations
- Implement proper event listener cleanup for IPC handlers
- Minimize main process blocking operations

### Async I/O Patterns

```typescript
// Good: Async operations
const workspaces = await fs.promises.readFile(configPath, 'utf8');

// Bad: Synchronous operations
const workspaces = fs.readFileSync(configPath, 'utf8');
```

---

## 10. Common Pitfalls & Solutions

### Issue: IPC Communication Errors

**Cause**: Incorrect channel naming or argument types  
**Solution**: Use shared type definitions and validate arguments on both sides

### Issue: App Launch Failures

**Cause**: Incorrect app paths or executable permissions  
**Solution**: Implement path validation and error handling with user feedback

### Issue: Memory Leaks

**Cause**: Unclosed event listeners or unreleased resources  
**Solution**: Implement proper cleanup patterns and monitor with developer tools

### Issue: Context Bridge Security

**Cause**: Exposing entire `ipcRenderer` instead of specific methods  
**Solution**: Use preload script with selective API exposure

---

## 11. Integration & External Systems

### Linear Integration

- **Purpose**: Task management and issue tracking
- **Droid Agent**: `agility-pm-linear-task-manager` for automated task creation
- **Workflow**: Design docs â†’ Linear issues â†’ Development â†’ PR tracking

### Notion Integration

- **Purpose**: Architecture Decision Records (ADR) storage
- **Database**: "Architecture Decision Records" with structured properties
- **Access**: Via Notion API for automated ADR management

---

## 12. Quick Reference for Common Tasks

### Adding New App Type Support

1. Update `WorkspaceItem` type in `shared/types.ts`
2. Implement launch logic in `LauncherService.ts`
3. Add IPC handlers for new type
4. Create UI components for configuration
5. Add tests for all layers

### Implementing New Feature

1. Create Linear issue using SOP template
2. Design component architecture
3. Write tests first (TDD approach)
4. Implement business logic in services
5. Create UI components
6. Add IPC communication layer
7. Update documentation
8. Submit PR for review

### Debugging Common Issues

```bash
# Enable verbose logging
DEBUG=agirity:* npm run dev

# Check file permissions
ls -la ~/.agirity/

# Validate configuration file
agirity validate ~/.agirity/workspaces.yaml
```

---

## 13. Agent Best Practices

### When Working on AgiRity

- **Read Documentation First**: Always check relevant docs before implementation
- **Follow Test Pyramid**: Prioritize unit tests, ensure integration coverage
- **Use Type Safety**: Leverage TypeScript for compile-time error prevention
- **Security First**: Validate all inputs, follow IPC safety patterns
- **Performance Mindful**: Consider memory usage and startup time impact

### Code Generation Guidelines

- **Avoid Magic Numbers**: Use named constants with clear semantic meaning
- **Implement Error Boundaries**: Provide user-friendly error messages
- **Follow Existing Patterns**: Use established architectural patterns
- **Document Decisions**: Use ADR template for significant architectural choices

---

_This document is maintained as the single source of truth for AI agents working on AgiRity project._  
_Last updated: 2025-11-23_
